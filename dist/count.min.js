!function(e,t){var o=jQuery(document),n=Backbone.Model.extend({ALL_TYPES:["saved_search","favorite","detail_history","search_history"],API_URL:{abroad_air:"/common/bookmarks/get_abair_regist_num",dp:"/common/bookmarks/get_dp_regist_num",abroad_hotel:"/common/bookmarks/get_abhotel_regist_num",domestic_hotel:"/common/bookmarks/get_domhotel_regist_num",domestic_air:"/common/bookmarks/get_domair_regist_num"},initialize:function(e,t){this.url=this.API_URL[t.service],this.prefixEventName="bookmarks",!0===t.isEventNameIncludeServiceName&&(this.prefixEventName+=":"+t.service)},getCount:function(e){var t={};e&&e.length>0&&(t.types=e.join(","));var n=this;this.fetch({data:t,cache:!1,success:function(){o.trigger(n.prefixEventName+":updateCountCompleted",n.toJSON())},error:function(){n.set(n._emptyResponse()),o.trigger(n.prefixEventName+":updateCountFailed",n.toJSON())}})},parse:function(e){return e.status?e.response:this._emptyResponse()},_emptyResponse:function(){return _.reduce(this.ALL_TYPES,function(e,t){return e[t]=0,e},{})}});skygate.util.namespace("airlink.model.common.bookmarks").BookmarksCount=n}(window);