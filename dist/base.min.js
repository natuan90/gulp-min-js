!function(e,t){var i=t(document),r=Backbone.View.extend({initialize:function(e){_.bindAll(this,"__commit"),this.fetcher=e.fetcher,this.timeout=e.timeout||0,this.result={},this.reservedReceiver={}},fetch:function(e,t,i){var r=_.once(_.partial(this.__commit,e,t));this.fetcher.call(this,r,i),this.timeout&&_.delay(r,this.timeout,"")},__commit:function(e,t,r){this.result[e]=r||"",this.reservedReceiver[e]?this.__submitHTML(e,this.reservedReceiver[e]):this.result[e]||i.trigger("Popup:Skip",{sequenceId:e,popupIndex:t})},get:function(e,t){var i=this.result[e];if(!t)return i;_.isUndefined(i)?this.reservedReceiver[e]=t:this.__submitHTML(e,t)},__submitHTML:function(e,t){t.call(this,this.result[e]),delete this.result[e],delete this.reservedReceiver[e]}});skygate.util.namespace("airlink.view.common.promo.popup").PopupBaseView=r;var s={events:{"click .targetClose":"triggerHideEvent"},triggerHideEvent:function(e){var r=t(e.currentTarget).parents(".targetPopup:first");i.trigger("Popup:Hide",r[0])}};skygate.util.namespace("airlink.view.common.promo.popup").BasePopupViewMixin=s}(window,jQuery);