!function(t,e){e(function(){var i=e("#str-header");if(void 0===t.addEventListener&&void 0===document.querySelectorAll&&"https:"!==location.protocol)i.find(".utility-inner").hide();else{var n=e("#menuLoginMember"),o=e(".header-utility-detail"),a=i.find("li.header-loading"),r=e(".utility-detail-item.member"),c=(o.children(".login"),e("#header-nav-member")),l=i.find("li.hideLoading"),u=i.hasClass("mypage-header")?1:0,s={logoutButton:e("#logout-header"),showBoxButton:e("#menuLoginMember"),loginButton:i.find(".login").children("a"),onAuthticationSuccessed:function(o){if(r[0]){var a=!1;e(t).resize(function(){!1!==a&&clearTimeout(a),a=setTimeout(function(){!function(){if(e(t).width()>=1055)r.css("left","").css("right",0);else if(n[0]){var o=0;o=i.find(".history")[0]?n.offset().left-(r.outerWidth()-n.width()):n.offset().left,r.css("left",o)}}()},200)})}var c=function(){e("#input_member_mail").children("input").val(o.mailAddress);try{e("#member_pass").children("input").attr("type","text").val("").attr("type","password")}catch(t){}};e("#input_member_mail").children("input").length?c():e(document).bind("setLoginId",function(){c()})},preAuthticate:function(t){i.find("li.header-loading").hide(),t.login?(l.hide(),n.show()):(l.show(),n.hide())},onDocumentClick:function(t){e(t.target).closest(".header-utility-btn-list").length||c.hide()},onOpenMenuBox:function(){c.toggle()},preLogout:function(){e(".ea-menu-item").hide(),e("#header-mypage-top").show(),a.show(),l.hide(),i.removeClass("login"),c.hide()},postLogout:function(){var t=e("#logout-header"),i=t.attr("data-move-to");if(i)return n.hide(),void(location.href=i);var o=t.attr("data-action-url");o?(n.hide(),h(null,"logout","99999","./action/SkygBasketActionMyTopReq",o)):(l.show(),n.hide(),a.hide()),e(document).trigger("authentication:postLogout")}};f(),e(document).bind("headerRefreshed",function(){f()});var d=function(t,i,n){null!=t&&t.append(e("<input>",{name:i,value:n,type:"hidden"}))},h=function(t,i,n,o,a){if(null!=a&&null!=a&&""!=a){t&&t.preventDefault();var r="https://"+a;if(""!=o)r+=o.substring(1,o.length);var c=e("<form>",{action:r,method:"POST"});""!=i&&d(c,"event",i),""!=n&&(d(c,"dispNo",n),"11500"==n&&(d(c,"S1","faq_history"),d(c,"DISP_NO",n))),e("body").append(c),c.submit()}},g=function(t,e,i,n,o,a,r){if(null!=e&&null!=e&&""!=e){t&&t.preventDefault(),o||(o=0);var c="https://"+e;if(""!=i)c+=i.substring(1,i.length);r||(r=skygate.util.redirectAuthCheckUrl);var l=skygate.util.createRedirectAuthPath(c,n,o,a,r);location.href=l}};e("#mypage-reserve").click(function(t){!function(t,e){skygate.util.isAuOne()?(t.preventDefault(),location.href=skygate.util.redirectMypageLoginUrl):g(t,e,"./SkygateServlet",{S1:"mytop",DISP_NO:"1100600"},u)}(t,e(this).children("a").attr("action-data"))}),e("#mypage-coupon").click(function(t){if(skygate.util.isAuOne())t.preventDefault(),location.href="/common/coupon_list";else{var e=location.host;g(t,e,"./common/coupon_list",{},1,"GET")}}),e("#mypage-edit-info").click(function(t){var i=e(this).children("a").attr("action-data");skygate.util.isAuOne()?h(t,"next","81500","./action/SkygMemberActionMyPagePersonal",i):g(t,i,"./action/SkygMemberActionMyPagePersonal",{event:"next",dispNo:"81500"},u)}),e("#mypage-edit-email").click(function(t){var i=e(this).children("a").attr("action-data");skygate.util.isAuOne()?h(t,"next","81500","./action/SkygActionMemberMailAdrReq",i):g(t,i,"./action/SkygActionMemberMailAdrReq",{event:"next",dispNo:"81500"},u)}),e("#mypage-notice-history").click(function(t){var i=e(this).children("a").attr("action-data");skygate.util.isAuOne()?h(t,"","11500","./SkygateServlet",i):g(t,i,"./SkygateServlet",{dispNo:"11500",S1:"faq_history",DISP_NO:"11500"},u)}),e("#mypage-reserve-share").click(function(t){if(skygate.util.isAuOne());else{var e=location.host;g(t,e,"./mypage/sharetrip/list",{},u)}}),e("#mypage-edit-notice").click(function(t){var i=e(this).children("a").attr("action-data");skygate.util.isAuOne()||g(t,i,"./action/SkygActionMemberMailMagazineReq",{dispNo:"81500"},u)}),e("#mypage-receipt-print").click(function(t){var i=e(this).children("a").attr("action-data");skygate.util.isAuOne()||g(t,i,"./action/SkygActionMemberReceiptList",{event:"next",dispNo:"81500"},u)}),e("#nav-slide-logout").click(function(t){var i=e(this).children("a").attr("action-data");h(t,"logout","","",i)})}function f(){skygate.util.autoLoginReady(function(){n.autoLogin(s)})}})}(window,jQuery);